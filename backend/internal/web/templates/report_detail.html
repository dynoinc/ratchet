<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Report Details</title>
    <link href="/static/bootstrap.min.css" rel="stylesheet">
    <style>
        .report-card {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
        }

        .report-meta {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .table {
            margin-top: 15px;
        }

        .report-section {
            margin: 20px 0;
        }

        .mitigation-time {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }

        .back-link {
            margin: 20px 0;
        }

        .back-link a {
            color: inherit;
        }

        .back-link a:hover {
            text-decoration: underline !important;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="back-link mt-4">
            <a href="/team/{{.ChannelName}}" class="text-decoration-none">‚Üê Back to Reports List</a>
        </div>

        <div class="report-card">
            <div class="report-meta">
                <h3>{{.WeekRange}}</h3>
                <p>Generated: {{.CreatedAt.Format "Jan 02, 2006 15:04:05"}}</p>
            </div>

            <div class="report-section">
                <h4><span>üìà</span> Incidents by Severity</h4>
                {{template "incidents_table" .Incidents}}
            </div>

            <div class="mitigation-time">
                <strong><span>‚è±Ô∏è</span> Average Mitigation Time:</strong> {{.MitigationTime}}
            </div>

            <div class="report-section">
                <h4><span>üî•</span> Top Alerts</h4>
                {{template "alerts_table" .TopAlerts}}
            </div>
        </div>
    </div>
</body>

</html>